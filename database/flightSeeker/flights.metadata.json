{
    "options": {
        "validator": {
            "$jsonSchema": {
                "bsonType": "object",
                "description": "Flight informations",
                "required": [
                    "departure",
                    "arrival",
                    "airlineIata",
                    "number",
                    "uuid"
                ],
                "properties": {
                    "departure": {
                        "bsonType": "object",
                        "description": "Departure informations",
                        "required": [
                            "airportIata",
                            "dateTime"
                        ],
                        "properties": {
                            "airportIata": {
                                "bsonType": "string",
                                "description": "Airport IATA Code",
                                "pattern": "[A-Z\\d]{3}",
                                "minLength": 3,
                                "maxLength": 3
                            },
                            "terminal": {
                                "bsonType": [
                                    "string",
                                    "int",
                                    "double",
                                    "null"
                                ],
                                "description": "Terminal name/number"
                            },
                            "dateTime": {
                                "bsonType": [
                                    "date",
                                    "timestamp"
                                ],
                                "description": "Local Date/Time or Timestamp"
                            },
                            "offset": {
                                "bsonType": [
                                    "int",
                                    "double"
                                ],
                                "description": "Local timezone offset"
                            },
                            "delay": {
                                "bsonType": "string",
                                "description": "Delay ISO8601 duration",
                                "pattern": "P(\\d+Y)?(\\d+M)?(\\d+D)?(T(\\d+H)?(\\d+M)?)?"
                            }
                        }
                    },
                    "arrival": {
                        "bsonType": "object",
                        "description": "Arrival informations",
                        "required": [
                            "airportIata",
                            "dateTime"
                        ],
                        "properties": {
                            "airportIata": {
                                "bsonType": "string",
                                "description": "Airport IATA Code",
                                "pattern": "[A-Z\\d]{3}",
                                "minLength": 3,
                                "maxLength": 3
                            },
                            "terminal": {
                                "bsonType": [
                                    "string",
                                    "int",
                                    "double",
                                    "null"
                                ],
                                "description": "Terminal name/number"
                            },
                            "dateTime": {
                                "bsonType": [
                                    "date",
                                    "timestamp"
                                ],
                                "description": "Local Date/Time or Timestamp"
                            },
                            "offset": {
                                "bsonType": [
                                    "int",
                                    "double"
                                ],
                                "description": "Local timezone offset"
                            },
                            "delay": {
                                "bsonType": "string",
                                "description": "Delay ISO8601 duration",
                                "pattern": "P(\\d+Y)?(\\d+M)?(\\d+D)?(T(\\d+H)?(\\d+M)?)?"
                            }
                        }
                    },
                    "airlineIata": {
                        "bsonType": "string",
                        "description": "Airline IATA Code",
                        "pattern": "[A-Z\\d]{2}\\*?",
                        "minLength": 2,
                        "maxLength": 3
                    },
                    "number": {
                        "bsonType": [
                            "int",
                            "double"
                        ],
                        "description": "Flight number",
                        "minimum": 1,
                        "maximum": 999999
                    },
                    "meals": {
                        "bsonType": [
                            "string",
                            "null"
                        ],
                        "description": "Served meal code",
                        "pattern": "[BKLDSMRCFPYNVGOH]*",
                        "maxLength": 8
                    },
                    "uuid": {
                        "bsonType": "string",
                        "description": "Unique flight identifier",
                        "pattern": "[A-Z\\d]{6}\\d{8}[A-Z\\d]{2}\\*?\\d{1,6}",
                        "minLength": 17,
                        "maxLength": 23
                    }
                }
            }
        },
        "validationLevel": "moderate",
        "validationAction": "error"
    },
    "indexes": [
        {
            "v": 2,
            "key": {
                "_id": 1
            },
            "name": "_id_",
            "ns": "flightSeeker.flights"
        },
        {
            "v": 2,
            "unique": true,
            "key": {
                "uuid": 1
            },
            "name": "_uuid",
            "ns": "flightSeeker.flights"
        },
        {
            "v": 2,
            "unique": true,
            "key": {
                "departure.airportIata": 1,
                "departure.dateTime": 1,
                "arrival.airportIata": 1,
                "airlineIata": 1
            },
            "name": "departure.airportIata_1_departure.dateTime_1_arrival.airportIata_1_airlineIata_1",
            "ns": "flightSeeker.flights"
        }
    ],
    "uuid": "c090de5eb0ed40de85d6f7d48cafa6bb"
}